<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recetas de Cocina Latinoamericanas</title>
    <link rel="icon" href="/static/img/favicon.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/styles.css" />
</head>
<body>
    <div class="container-fluid">
        <nav class="navbar navbar-expand-lg">
          <a class="navbar-brand" href="/"><img src="/static/img/rcl_logo.png" alt="Recetas de Cocina Latinoamericana"></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" href="/"><h6>Inicio</h6></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/recetas.html"><h6 id="active">Recetas</h6></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/recetas_alta.html"><h6>Tu receta</h6></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/contactenos.html"><h6>Contáctenos</h6></a>
              </li>
            </ul>
            <div class="navbar_usuarios">
              <a href="/login.html"><i class="fas fa-user"></i></a>
            </div>
          </div>
        </nav>
    </div>
    <div class="container-fluid">
        <section class="recetas_botonera">
          <a href="/recetas_pais.html?pais=1&nombre=Argentina"><img src="/static/img/btn_argentina.png" alt="recetas argentinas"></a>
          <a href="/recetas_pais.html?pais=2&nombre=Bélice"><img src="/static/img/btn_belice.png" alt="recetas beliceñas"></a>
          <a href="/recetas_pais.html?pais=3&nombre=Bolivia"><img src="/static/img/btn_bolivia.png" alt="recetas bolivianas"></a>
          <a href="/recetas_pais.html?pais=4&nombre=Brasil"><img src="/static/img/btn_brasil.png" alt="recetas brasileras"></a>
          <a href="/recetas_pais.html?pais=5&nombre=Chile"><img src="/static/img/btn_chile.png" alt="recetas chilenas"></a>
          <a href="/recetas_pais.html?pais=6&nombre=Colombia"><img src="/static/img/btn_colombia.png" alt="recetas colombianas"></a>
          <a href="/recetas_pais.html?pais=7&nombre=Costa Rica"><img src="/static/img/btn_costarica.png" alt="recetas costarricenses"></a>
          <a href="/recetas_pais.html?pais=8&nombre=Cuba"><img src="/static/img/btn_cuba.png" alt="recetas cubanas"></a>
          <a href="/recetas_pais.html?pais=9&nombre=Ecuador"><img src="/static/img/btn_ecuador.png" alt="recetas ecuatorianas"></a>
          <a href="/recetas_pais.html?pais=10&nombre=El Salvador"><img src="/static/img/btn_elsalvador.png" alt="recetas salvadoreñas"></a>
          <a href="/recetas_pais.html?pais=11&nombre=Guatemala"><img src="/static/img/btn_guatemala.png" alt="recetas guatemaltecas"></a>
          <a href="/recetas_pais.html?pais=12&nombre=Haití"><img src="/static/img/btn_haiti.png" alt="recetas haiteñas"></a>
          <a href="/recetas_pais.html?pais=13&nombre=Honduras"><img src="/static/img/btn_honduras.png" alt="recetas hondureñas"></a>
          <a href="/recetas_pais.html?pais=14&nombre=México"><img src="/static/img/btn_mexico.png" alt="recetas mejicanas"></a>
          <a href="/recetas_pais.html?pais=15&nombre=Nicaragua"><img src="/static/img/btn_nicaragua.png" alt="recetas nicaragüenses"></a>
          <a href="/recetas_pais.html?pais=16&nombre=Panamá"><img src="/static/img/btn_panama.png" alt="recetas panameñas"></a>
          <a href="/recetas_pais.html?pais=17&nombre=Paraguay"><img src="/static/img/btn_paraguay.png" alt="recetas paraguayas"></a>
          <a href="/recetas_pais.html?pais=18&nombre=Perú"><img src="/static/img/btn_peru.png" alt="recetas peruanas"></a>
          <a href="/recetas_pais.html?pais=19&nombre=Puerto Rico"><img src="/static/img/btn_puertorico.png" alt="recetas portorriqueñas"></a>
          <a href="/recetas_pais.html?pais=20&nombre=República Dominicana"><img src="/static/img/btn_republicadominicana.png" alt="recetas dominicanas"></a>
          <a href="/recetas_pais.html?pais=21&nombre=Uruguay"><img src="/static/img/btn_uruguay.png" alt="recetas uruguayas"></a>
          <a href="/recetas_pais.html?pais=22&nombre=Venezuela"><img src="/static/img/btn_venezuela.png" alt="recetas venezolanas"></a>
        </section>
        <hr>
        <section>
            <div class="container receta" id="receta">
            </div>
        </section>
        <hr>
    <footer class="row text-center">
      <div class="col">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3285.9400576393878!2d-58.48387002488747!3d-34.555073054929714!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcb69215b6aaab%3A0xcbe90dc9b728abd8!2sWashington%203664%2C%20C1430EUX%20Cdad.%20Aut%C3%B3noma%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1715733263422!5m2!1ses-419!2sar" width="350" height="200" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
      <div class="col">
          <a href="#"><i class="fab fa-facebook"></i></a>
          <a href="#"><i class="fab fa-instagram-square"></i></a>
          <a href="#"><i class="fab fa-whatsapp-square"></i></a>
          <a href="#"><i class="fas fa-envelope"></i></a>
      </div>
      <hr>
      <h6><i class="fas fa-copyright copyright"></i>Copyright 2024 Recetas de Cocina Latinoamericana</h6>
    </footer>
    <script>
        // Obtener la URL actual
        var url = window.location.href;
        // Crear un objeto URL
        var urlParams = new URLSearchParams(window.location.search);
        // Obtener el valor del parámetro 'nombre'
        var receta = urlParams.get('receta');
        const URL = "http://127.0.0.1:5000"
        // Ejemplo de uso de los parámetros
        fetch(URL + "/recetas/" + receta)
        .then(function (response) { 
              if (response.ok) {
                  //Si la respuesta es exitosa (response.ok), convierte el cuerpo de la respuesta de formato
                  //JSON a un objeto JavaScript y pasa estos datos a la siguiente promesa then.
                  return response.json(); }
              else {
                  //Si hubo un error, lanzar explícitamente una excepción para ser "catcheada" más adelante
                  throw new Error('Error al obtener las recetas.'); } })
              //Esta función maneja los datos convertidos del JSON.
          .then(function (data) { 
                let recetas = document.getElementById('receta');
                //Selecciona el elemento del DOM donde se mostrarán los productos.
                // Iteramos sobre cada producto y agregamos filas a la tabla
                    let fila = document.createElement('div');
                    fila.className = "col";
                    //Crea una nueva fila de tabla (<tr>) para cada producto.
                    fila.innerHTML = 
                    '<div class="row justify-content-md-center">' +
                      '<div class="col col-lg-6">' +
                        '<h4>' + data.nombre +'</h4>' +
                        '<img class="receta_imagen" src="' + URL + '/static/img/public/'+ data.imagen +'" alt="Descripción de la imagen">' +
                        '<h4>País de origen:</h4>' +
                        '<h5>' + data.pais_origen +'</h5>' +
                        '<h4>Tipo de comida:</h4>' +
                        '<h5>' + data.tipo +'</h5>' +
                        '<h4>Tipo de alimentación: </h4>' +
                        '<h5>' + data.tipo_alimentacion +'</h5>' +
                        '<h4>Tiempo de cocción: </h4>' +
                        '<h5>' + data.tiempo_coccion +'</h5>' +
                    '</div>' +
                    '<div class="col col-lg-6">' +
                        '<h4>Ingredientes:</h4>' +
                        '<h5>' + data.ingredientes +'</h5>' +
                        '<h4>Preparación:</h4>' +
                        '<h5>' + data.preparacion +'</h5>' +
                    '</div>' +
                    '</div>'
                    recetas.appendChild(fila);
              })
    </script>
</body>
</html>